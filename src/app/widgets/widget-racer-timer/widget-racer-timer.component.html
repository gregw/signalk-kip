<widget-host [(config)]="widgetProperties.config" [id]="widgetProperties.uuid" (configChange)="updateConfig($event)">
  <div id="{{widgetProperties.uuid}}" #racerTimer class="racerTimerWidget">
    <h1>Start Timer</h1>
    <div class="timerTitle">
        <span>{{widgetProperties.config.displayName}}</span>
    </div>
    <div class="top-pane">
      <div *ngIf="showTopTTS" class="tts" (click)="toggleTopPane()">
        {{ timeToStart }}
      </div>
      <div *ngIf="!showTopTTS" class="line-grid">
        <div class="port-line-buttons">
          <button (click)="adjustLineEnd('port', 0, 1)">+1째</button>
          <button (click)="adjustLineEnd('port', 10, 0)">+10m</button>
          <button (click)="adjustLineEnd('port', 1, 0)">+1m</button>
          <button (click)="setLineEnd('port')">Set End</button>
          <button (click)="adjustLineEnd('port', -1, 0)">-1m</button>
          <button (click)="adjustLineEnd('port', -10, 0)">-10m</button>
          <button (click)="adjustLineEnd('port', 0, -1)">-1째</button>
        </div>
        <div class="stb-line-buttons">
          <button (click)="adjustLineEnd('stb', 0, 1)">+1째</button>
          <button (click)="adjustLineEnd('stb', 10, 0)">+10m</button>
          <button (click)="adjustLineEnd('stb', 1, 0)">+1m</button>
          <button (click)="setLineEnd('stb')">Set End</button>
          <button (click)="adjustLineEnd('stb', -1, 0)">-1m</button>
          <button (click)="adjustLineEnd('stb', -10, 0)">-10m</button>
          <button (click)="adjustLineEnd('stb', 0, -1)">-1째</button>
        </div>
      </div>
    </div>

    <div class="bottom-pane">
      <div *ngIf="showBottomDTS" class="dts" (click)="toggleBottomPane()">
        {{ distanceToLine }} m
      </div>
      <div *ngIf="!showBottomDTS" class="timer-controls">
        <button (click)="adjustStartTime(-60)">-1m</button>
        <button (click)="adjustStartTime(-1)">-1s</button>
        <input [(ngModel)]="startTime" placeholder='HH:MM:SS' size="8"/>
        <button (click)="adjustStartTime(1)">+1s</button>
        <button (click)="adjustStartTime(60)">+1m</button>
        <button id="startTimerBtn" #startTimerBtn (click)="sendTimerCommand('start')">Start</button>
        <button (click)="setStartTimeAt(startTime)">Start At</button>
        <button (click)="sendTimerCommand('sync')">Sync</button>
        <button (click)="sendTimerCommand('reset')">Reset</button>
      </div>
    </div>
  </div>
</widget-host>
